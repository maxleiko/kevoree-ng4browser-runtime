webpackJsonp([1],{"./src/$$_gendir async recursive":function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="./src/$$_gendir async recursive"},"./src/app/app.component.css":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,".main-container{margin-top:15px}",""]),e.exports=e.exports.toString()},"./src/app/app.component.html":function(e,t){e.exports='<app-nav-bar></app-nav-bar>\n<div class="main-container">\n  <router-outlet></router-outlet>\n</div>\n<app-logger></app-logger>\n'},"./src/app/app.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./src/app/services/logger.service.ts"),s=n(1),i=n.n(s);n.d(t,"a",function(){return p});var a=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e){this.logger=e;var t=new i.a.factory.DefaultKevoreeFactory;e.info("Kevoree MetaModel v"+t.getVersion())}return e}();p=a([n.i(o.F)({selector:"app-root",template:n("./src/app/app.component.html"),styles:[n("./src/app/app.component.css")]}),c("design:paramtypes",["function"==typeof(l=void 0!==r.a&&r.a)&&l||Object])],p);var l},"./src/app/app.module.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/@angular/forms/@angular/forms.es5.js"),i=n("./node_modules/@ng-bootstrap/ng-bootstrap/index.js"),a=n("./node_modules/ngx-webstorage/dist/app.js"),c=n("./src/app/app.routing.ts"),p=n("./src/app/app.component.ts"),l=n("./src/app/services/logger.service.ts"),u=n("./src/app/services/logger-factory.service.ts"),d=n("./src/app/services/core.service.ts"),f=n("./src/app/services/tiny-conf.service.ts"),g=n("./src/app/services/kevscript.service.ts"),h=n("./src/app/services/resolver.service.ts"),v=n("./src/app/pages/home/home.component.ts"),m=n("./src/app/pages/settings/settings.component.ts"),b=n("./src/app/pages/not-found/not-found.component.ts"),y=n("./src/app/components/navbar/navbar.component.ts"),j=n("./src/app/components/logger/logger.component.ts"),R=n("./src/app/components/kevscript/kevscript.component.ts"),w=n("./src/app/components/dashboard/dashboard.component.ts"),x=n("./src/app/pipes/safe.pipe.ts");n.d(t,"a",function(){return k});var _=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},O=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},k=function(){function e(e,t,n,o,r){this.logger=e,this.storage=t,this.config=n,this.kevs=o,this.core=r}return e}();k=_([n.i(r.b)({declarations:[p.a,y.a,R.a,w.a,j.a,v.a,m.a,b.a,x.a],imports:[o.a,c.a,s.a,i.a.forRoot(),a.a],providers:[l.a,h.a,f.a,g.a,d.a,u.a],bootstrap:[p.a]}),O("design:paramtypes",["function"==typeof(I=void 0!==l.a&&l.a)&&I||Object,"function"==typeof(S=void 0!==a.b&&a.b)&&S||Object,"function"==typeof(P=void 0!==f.a&&f.a)&&P||Object,"function"==typeof(D=void 0!==g.a&&g.a)&&D||Object,"function"==typeof(T=void 0!==d.a&&d.a)&&T||Object])],k);var I,S,P,D,T},"./src/app/app.routing.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/router/@angular/router.es5.js"),r=n("./src/app/pages/home/home.component.ts"),s=n("./src/app/pages/settings/settings.component.ts"),i=n("./src/app/components/dashboard/dashboard.component.ts"),a=n("./src/app/pages/not-found/not-found.component.ts");n.d(t,"a",function(){return p});var c=[{path:"home",component:r.a},{path:"settings",component:s.a},{path:"dashboard",component:i.a},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:a.a}],p=o.a.forRoot(c,{useHash:!0})},"./src/app/components/dashboard/dashboard.component.css":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,".dashboard{display:-webkit-box;display:-ms-flexbox;display:flex}.dashboard.empty{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.tile-container{background-color:#fff;display:inline-block;margin:5px;width:302px;height:327px;border:1px solid #999}.tile-container .tile-header{padding:0 5px;height:25px;width:300px;overflow:hidden;text-overflow:ellipsis;line-height:25px;border-bottom:1px solid #999;background-color:#333}.tile-container .tile-header .tile-name{font-size:16px;height:25px;line-height:25px}.tile-container .tile-stopped{z-index:100;display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;background-color:#000;opacity:.55;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:300px;height:300px;font-size:2em;color:#fff}.tile-container .tile{border:none;width:300px;height:300px}",""]),e.exports=e.exports.toString()},"./src/app/components/dashboard/dashboard.component.html":function(e,t){e.exports='<div class="dashboard" [ngClass]="{\'empty\': tiles.length === 0 }">\n  <p *ngIf="tiles.length === 0">No tile</p>\n  <div *ngFor="let tile of tiles" class="tile-container">\n    <div class="tile-header">\n      <span class="tile-name">{{ tile.name }}: {{ tile.type }}</span>\n    </div>\n    <div class="tile-stopped" *ngIf="!tile.started">\n      <span>STOPPED</span>\n    </div>\n    <iframe\n      id="tile-{{ tile.name }}"\n      [src]="tile.src | safe"\n      class="tile">\n    </iframe>\n  </div>\n</div>\n'},"./src/app/components/dashboard/dashboard.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./node_modules/@angular/router/@angular/router.es5.js"),s=n("./src/app/services/core.service.ts");n.d(t,"a",function(){return c});var i=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){var n=this;this.core=e,this.router=t,this.tiles=[],this.core.state.getValue()===s.b.STARTED&&this.core.onDeploy.subscribe(function(e){Object.keys(e).forEach(function(t){if(!n.tiles.find(function(e){return e.path===t})){var o=e[t].getModelEntity();o&&n.tiles.push({path:t,name:e[t].getName(),type:o.typeDefinition.name+"/"+o.typeDefinition.version,src:"/assets/iframes/tile.html?path="+encodeURI(t),started:e[t].started})}})})}return e}();c=i([n.i(o.F)({selector:"app-dashboard",template:n("./src/app/components/dashboard/dashboard.component.html"),styles:[n("./src/app/components/dashboard/dashboard.component.css")]}),a("design:paramtypes",["function"==typeof(p=void 0!==s.a&&s.a)&&p||Object,"function"==typeof(l=void 0!==r.b&&r.b)&&l||Object])],c);var p,l},"./src/app/components/kevscript/kevscript.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n(1),s=(n.n(r),n(0)),i=(n.n(s),n("./node_modules/cm-mode-kevscript/src/mode/kevscript.js")),a=(n.n(i),n("./node_modules/cm-mode-kevscript/src/lint/lint.js")),c=(n.n(a),n("./node_modules/cm-mode-kevscript/src/hint/hint.js")),p=(n.n(c),n("./src/app/services/kevscript.service.ts")),l=n("./src/app/services/core.service.ts");n.d(t,"a",function(){return f});var u=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t,n){this.renderer=e,this.kevs=t,this.core=n,this.scriptChanged=new o.h,this.factory=new r.factory.DefaultKevoreeFactory}return e.prototype.ngAfterViewInit=function(){var e=this;s.hint.kevscript.async=!0,this.editor=new s(this.renderer.selectRootElement("#kevscript-editor"),{mode:"kevscript",theme:"kevscript",lineWrapping:!0,lineNumbers:!0,styleActiveLine:!0,extraKeys:{"Ctrl-Space":function(t){window.cm=t,t.showHint({hint:s.hint.kevscript,getModel:function(){return e.getModel()},completeSingle:!1,alignWithWord:!1})}},gutters:["CodeMirror-lint-markers"],lint:{getAnnotations:s.lint.kevscript(this.kevs.getInstance(),function(){return e.getModel()},this.ctxVars),async:!0}}),this._script&&this.editor.setValue(this._script),this.editor.refresh(),this.editor.on("changes",function(t){e._script=t.getValue(),e.scriptChanged.emit(e._script)})},Object.defineProperty(e.prototype,"script",{get:function(){return this._script},set:function(e){this.editor&&e!==this._script&&this.editor.setValue(e),this._script=e,this.scriptChanged.emit(this._script)},enumerable:!0,configurable:!0}),e.prototype.getModel=function(){var e=this.core.getModel();return e||(e=this.factory.createContainerRoot().withGenerated_KMF_ID("0.0"),this.factory.root(e)),e},e}();u([n.i(o.G)(),d("design:type","function"==typeof(g=void 0!==o.h&&o.h)&&g||Object)],f.prototype,"scriptChanged",void 0),u([n.i(o.r)(),d("design:type",String),d("design:paramtypes",[String])],f.prototype,"script",null),f=u([n.i(o.F)({selector:"app-kevscript",template:'<div id="kevscript-editor"></div>',styles:["#kevscript-editor { height: 400px; }"]}),d("design:paramtypes",["function"==typeof(h=void 0!==o.q&&o.q)&&h||Object,"function"==typeof(v=void 0!==p.a&&p.a)&&v||Object,"function"==typeof(m=void 0!==l.a&&l.a)&&m||Object])],f);var g,h,v,m},"./src/app/components/logger/logger.component.css":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"pre{margin:0}.logger-container{left:0;bottom:0;right:0;height:27px;overflow-y:scroll;word-wrap:break-word}.logger-container,.logger-grip{z-index:1000;position:fixed;border:1px solid #ccc;background-color:#333}.logger-grip{font-size:12px;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;left:50%;bottom:26px;border-bottom:none;border-top-left-radius:4px;border-top-right-radius:4px}.logger-grip:hover{cursor:-webkit-grab;cursor:grab;background-color:#444;color:#fff}.logger-grip:active{cursor:-webkit-grabbing;cursor:grabbing}.logger-actions{font-family:DeJaVu Mono,monospace;font-size:12px;position:fixed;right:5px;bottom:26px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.logger-actions>.logger-action{padding:2px 5px;border:1px solid #ccc;border-bottom:none;background-color:#333;border-top-left-radius:4px;border-top-right-radius:4px}.logger-actions>.logger-action:hover{cursor:pointer;background-color:#444;color:#fff}.list-group-item{display:-webkit-box;display:-ms-flexbox;display:flex;padding:2px 0;border-radius:0}.list-group-item>*>*{overflow:hidden;text-overflow:ellipsis}.date{text-align:center}.date,.tag{-ms-flex-item-align:start;align-self:flex-start;padding:0 10px;border-right:1px solid #666}.tag{width:150px}.line{-ms-flex-item-align:start;align-self:flex-start;padding:0 10px}",""]),e.exports=e.exports.toString()},"./src/app/components/logger/logger.component.html":function(e,t){e.exports='<div class="logger-panel">\n  <span\n    class="logger-grip"\n    (dblclick)="toggleHeight($event)"\n    (mousedown)="onGripMouseDown($event)"\n    [ngStyle]="{\'bottom\': height + \'px\'}">\n    <i class="fa fa-bars"></i>\n  </span>\n  <div class="logger-actions" [ngStyle]="{\'bottom\': height + \'px\'}">\n    <span class="logger-action" (click)="reverseLogs()">Reverse</span>\n    <span class="logger-action" (click)="clearLogs()">Clear</span>\n  </div>\n  <div class="logger-container" [ngStyle]="{\'height\': height + \'px\'}">\n    <div class="logger">\n      <div class="list-group">\n        <div\n          *ngFor="let log of logger.getLogs()"\n          class="list-group-item list-group-item-action list-group-item-{{convertLevel(log.level)}}">\n          <span class="date">\n            <pre><code>{{ log.date | date:\'dd/MM/yy HH:mm:ss\' }}</code></pre>\n          </span>\n          <span class="tag">\n            <pre><code>{{ log.tag }}</code></pre>\n          </span>\n          <span class="line">\n            <pre><code>{{ log.line }}</code></pre>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},"./src/app/components/logger/logger.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./src/app/services/logger.service.ts");n.d(t,"a",function(){return a});var s=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=c=function(){function e(e,t){var n=this;this.logger=e,this.ref=t,this.mouseDown=!1,this.lastY=0,this.height=c.MIN_HEIGHT,this.intervalId=setInterval(function(){n.ref.markForCheck()},1e3),this.onMouseUp=function(){n.mouseDown=!1},this.onMouseMove=function(e){n.mouseDown&&(n.height+=-(e.clientY-n.lastY),n.height<c.MIN_HEIGHT?n.height=c.MIN_HEIGHT:n.height>=window.innerHeight-82&&(n.height=window.innerHeight-82),n.lastY=e.clientY)},window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove)}return e.prototype.ngOnDestroy=function(){clearInterval(this.intervalId),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove)},e.prototype.onGripMouseDown=function(e){this.mouseDown=!0,this.lastY=e.clientY},e.prototype.convertLevel=function(e){switch(e){case r.b.DEBUG:return"info";case r.b.WARN:return"warning";case r.b.ERROR:return"danger"}},e.prototype.toggleHeight=function(e){this.height!==c.MIN_HEIGHT?this.height=c.MIN_HEIGHT:this.height=window.innerHeight-82,e.preventDefault()},e.prototype.clearLogs=function(){this.logger.clear()},e.prototype.reverseLogs=function(){this.logger.reverseOrder()},e}();a.MIN_HEIGHT=27,a=c=s([n.i(o.F)({selector:"app-logger",changeDetection:o.H.Default,template:n("./src/app/components/logger/logger.component.html"),styles:[n("./src/app/components/logger/logger.component.css")]}),i("design:paramtypes",["function"==typeof(p=void 0!==r.a&&r.a)&&p||Object,"function"==typeof(l=void 0!==o.D&&o.D)&&l||Object])],a);var c,p,l},"./src/app/components/navbar/navbar.component.css":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,".badge{vertical-align:top}",""]),e.exports=e.exports.toString()},"./src/app/components/navbar/navbar.component.html":function(e,t){e.exports='<nav class="navbar navbar-toggleable-md navbar-fixed-top navbar-inverse bg-inverse">\n  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">\n    <span class="navbar-toggler-icon"></span>\n  </button>\n  <a class="navbar-brand" [routerLink]="[\'/home\']">\n    <img src="assets/images/kevoree.png" width="61" height="35" alt="">\n  </a>\n\n  <div class="collapse navbar-collapse" id="navbarSupportedContent">\n    <ul class="navbar-nav mr-auto">\n      <li class="nav-item" [routerLinkActive]="[\'active\']">\n        <a class="nav-link" [routerLink]="[\'/home\']">Home</a>\n      </li>\n      <li class="nav-item" [routerLinkActive]="[\'active\']">\n        <a class="nav-link" [routerLink]="[\'/dashboard\']">\n          Dashboard <span class="badge badge-pill badge-default" *ngIf="tilesCount > 0">{{ tilesCount }}</span>\n        </a>\n      </li>\n    </ul>\n    <ul class="navbar-nav">\n      <li class="nav-item" [routerLinkActive]="[\'active\']">\n        <a class="nav-link" [routerLink]="[\'/settings\']">Settings</a>\n      </li>\n    </ul>\n  </div>\n</nav>\n'},"./src/app/components/navbar/navbar.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./src/app/services/core.service.ts");n.d(t,"a",function(){return a});var s=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){var t=this;this.core=e,e.onDeploy.subscribe(function(e){t.tilesCount=Object.keys(e).length})}return e}();a=s([n.i(o.F)({selector:"app-nav-bar",template:n("./src/app/components/navbar/navbar.component.html"),styles:[n("./src/app/components/navbar/navbar.component.css")]}),i("design:paramtypes",["function"==typeof(c=void 0!==r.a&&r.a)&&c||Object])],a);var c},"./src/app/lib/kevoree-instance-loader.ts":function(e,t,n){"use strict";var o=function(){function e(){this.instances={}}return e.prototype.register=function(e,t){this.instances[e]=t},e.prototype.has=function(e){return Boolean(this.instances[e])},e.prototype.require=function(e){var t=this.instances[e];if(t)return t;throw new Error('KevoreeInstance "'+e+'" not found')},e.prototype.remove=function(e){delete this.instances[e]},e.prototype.getInstances=function(){return this.instances},e}();window.KevoreeInstanceLoader=window.KevoreeInstanceLoader||new o,t.a=window.KevoreeInstanceLoader},"./src/app/pages/home/home.component.css":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,".btn-bar{margin-bottom:70px!important}",""]),e.exports=e.exports.toString()},"./src/app/pages/home/home.component.html":function(e,t){e.exports='<div class="container-fluid">\n  <div class="row justify-content-md-center">\n    <div class="col-12 col-md-7">\n      <div class="form-group">\n        <label for="name">Node name</label>\n        <input\n          id="name"\n          type="text"\n          class="form-control"\n          name="name"\n          [(ngModel)]="name"\n          [disabled]="core.state.getValue() === 2"\n          placeholder="eg. node0, myNode">\n      </div>\n\n      <div class="form-group">\n        <label for="script">KevScript</label>\n        <app-kevscript\n          id="script"\n          [script]="script"\n          (scriptChanged)="script=$event"\n          aria-describedby="bootstrapScriptHelp">\n        </app-kevscript>\n        <p id="bootstrapScriptHelp" class="form-text text-muted">\n          This KevScript will be given to the runtime in order to bootstrap it.\n        </p>\n      </div>\n\n      <div class="container form-group btn-bar">\n        <div class="row justify-content-between">\n          <div>\n            <button type="button" class="btn btn-info" (click)="start()" [disabled]="core.state.getValue() !== 0 && core.state.getValue() !== 4">Start</button>\n            <button type="button" class="btn btn-info" (click)="submitScript()" [disabled]="!core.isBootstrapped()">Submit script</button>\n          </div>\n          <button type="button" class="btn btn-warning" (click)="stop()" [disabled]="core.state.getValue() !== 2">Stop</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},"./src/app/pages/home/home.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./src/app/services/logger.service.ts"),s=n("./src/app/services/core.service.ts"),i=n("./src/app/services/kevscript.service.ts");n.d(t,"a",function(){return l});var a=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p="// you can now submit script to make changes @runtime :)\n",l=function(){function e(e,t,n){this.core=e,this.logger=t,this.kevs=n,this.core.isBootstrapped()?(this.name=this.core.getNodeName(),this.script=p):(this.name="node"+(Math.floor(1e3*Math.random())+1),this.script="add "+this.name+": JavascriptNode\nadd "+this.name+".ticker: Ticker\nadd "+this.name+".printer: ConsolePrinter\nadd chan: LocalChannel\n\nbind "+this.name+".ticker.tick chan\nbind "+this.name+".printer.input chan")}return e.prototype.start=function(){var e=this;this.core.state.getValue()!==s.b.INIT&&this.core.state.getValue()!==s.b.STOPPED||this.core.start(this.name).then(function(){return e.kevs.interpret(e.script).then(function(t){var n=t.model;return t.warnings.forEach(function(t){return e.logger.warn(t)}),n})}).then(function(t){return e.core.deploy(t)}).then(function(){e.script=p,e.logger.info("Platform bootstrapped successfully :)")}).catch(function(t){e.logger.error(t.message),console.log(t.stack)})},e.prototype.stop=function(){this.core.state.getValue()!==s.b.STARTING&&this.core.state.getValue()!==s.b.STARTED||this.core.stop()},e.prototype.submitScript=function(){this.core.isBootstrapped()&&this.core.submitScript(this.script)},e}();l=a([n.i(o.F)({template:n("./src/app/pages/home/home.component.html"),styles:[n("./src/app/pages/home/home.component.css")]}),c("design:paramtypes",["function"==typeof(u=void 0!==s.a&&s.a)&&u||Object,"function"==typeof(d=void 0!==r.a&&r.a)&&d||Object,"function"==typeof(f=void 0!==i.a&&i.a)&&f||Object])],l);var u,d,f},"./src/app/pages/not-found/not-found.component.html":function(e,t){e.exports='<div class="container">\n  <h3>Page not found</h3>\n  <p>Sorry, this page does not exist.</p>\n  <a [routerLink]="[\'/home\']">Home</a>\n</div>\n'},"./src/app/pages/not-found/not-found.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js");n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},s=function(){function e(){}return e}();s=r([n.i(o.F)({template:n("./src/app/pages/not-found/not-found.component.html")})],s)},"./src/app/pages/settings/settings.component.html":function(e,t){e.exports='<div class="container">\n  <form>\n    <div class="form-group">\n      <label for="registry">Registry</label>\n      <input\n        id="registry"\n        type="text"\n        class="form-control"\n        name="registry"\n        [(ngModel)]="registry"\n        (ngModelChange)="updateRegistry($event)"\n        placeholder="https://registry.kevoree.org"\n        aria-describedby="registryHelp">\n      <p id="registryHelp" class="form-text text-muted">\n        Specify the URL of a Kevoree Registry (eg. https://registry.kevoree.org)\n      </p>\n    </div>\n  </form>\n</div>\n'},"./src/app/pages/settings/settings.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./node_modules/ngx-webstorage/dist/app.js"),s=n("./src/app/services/logger.service.ts"),i=n("./src/app/services/tiny-conf.service.ts");n.d(t,"a",function(){return p});var a=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n){this.logger=e,this.config=t,this.storage=n,this.updateRegistry(n.retrieve("registry"))}return e.prototype.updateRegistry=function(e){var t=this;clearTimeout(this.registryTimeout),this.registryTimeout=setTimeout(function(){try{var n=new URL(e);t.config.set({registry:{host:n.host,port:n.port,ssl:"https:"===n.protocol}}),t.logger.info("Kevoree Registry URL: "+e)}catch(n){t.logger.error("Malformed Kevoree Registry URL: "+e)}},800)},e}();a([n.i(r.c)("registry","https://new-registry.kevoree.org"),c("design:type",String)],p.prototype,"registry",void 0),p=a([n.i(o.F)({template:n("./src/app/pages/settings/settings.component.html"),providers:[r.b]}),c("design:paramtypes",["function"==typeof(l=void 0!==s.a&&s.a)&&l||Object,"function"==typeof(u=void 0!==i.a&&i.a)&&u||Object,"function"==typeof(d=void 0!==r.b&&r.b)&&d||Object])],p);var l,u,d},"./src/app/pipes/safe.pipe.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js");n.d(t,"a",function(){return a});var s=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.sanitizer=e}return e.prototype.transform=function(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)},e}();a=s([n.i(o.C)({name:"safe"}),i("design:paramtypes",["function"==typeof(c=void 0!==r.c&&r.c)&&c||Object])],a);var c},"./src/app/services/core.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./node_modules/rxjs/Rx.js"),s=(n.n(r),n("./node_modules/kevoree-core/kevoree-core.js")),i=n.n(s),a=n("./src/app/services/logger.service.ts"),c=n("./src/app/services/logger-factory.service.ts"),p=n("./src/app/services/kevscript.service.ts"),l=n("./src/app/services/resolver.service.ts"),u=n("./src/app/lib/kevoree-instance-loader.ts");n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h});var d,f=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e[e.INIT=0]="INIT",e[e.STARTING=1]="STARTING",e[e.STARTED=2]="STARTED",e[e.STOPPING=3]="STOPPING",e[e.STOPPED=4]="STOPPED"}(d||(d={}));var h=function(){function e(e,t,n,o){var s=this;this.loggerFactory=e,this.logger=t,this.kevs=n,this.resolver=o,t.debug("Initiating KevoreeCoreService..."),this.state=new r.BehaviorSubject(d.INIT),this.onDeploy=new r.BehaviorSubject([]),this.core=new i.a(o,n.getInstance(),e),this.core.on("stopped",function(){console.log("!!!!!!!!!!!! sTOPPED !!!"),s.state.next(d.STOPPED)}),this.core.on("error",function(e){return console.error(e.stack)}),this.core.on("deployed",function(){var e=Object.keys(s.core.nodeInstance.adaptationEngine.modelObjMapper.map),t=Object.keys(u.a.getInstances());e.forEach(function(e){var t=s.core.nodeInstance.adaptationEngine.modelObjMapper.map[e];t&&"function"==typeof t.uiFactory&&(u.a.has(e)||u.a.register(e,t))});for(var n=0;n<t.length;n++)!function(n){e.find(function(e){return t[n]===e})||u.a.remove(t[n])}(n);s.onDeploy.next(u.a.getInstances())}),t.debug("KevoreeCoreService initiated")}return e.prototype.start=function(e){return this.state.next(d.STARTING),this.logger.debug("Starting Kevoree core..."),this.core.start(e),this.state.next(d.STARTED),Promise.resolve()},e.prototype.deploy=function(e){return this.core.deploy(e)},e.prototype.submitScript=function(e){return this.core.submitScript(e)},e.prototype.stop=function(){return this.state.next(d.STOPPING),this.logger.debug("Stopping Kevoree core..."),this.core.stop()},e.prototype.isBootstrapped=function(){return!!this.core.nodeInstance&&this.core.nodeInstance.started},e.prototype.getNodeName=function(){return this.core.nodeInstance.name},e.prototype.getModel=function(){return this.core.getCurrentModel()},e}();h=f([n.i(o.g)(),g("design:paramtypes",["function"==typeof(v=void 0!==c.a&&c.a)&&v||Object,"function"==typeof(m=void 0!==a.a&&a.a)&&m||Object,"function"==typeof(b=void 0!==p.a&&p.a)&&b||Object,"function"==typeof(y=void 0!==l.a&&l.a)&&y||Object])],h);var v,m,b,y},"./src/app/services/kevscript.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./src/app/services/logger.service.ts"),s=n(2),i=n.n(s);n.d(t,"a",function(){return p});var a=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e){this.logger=e,e.debug("Initiating KevScriptService..."),this.kevs=new i.a(e),e.debug("KevScriptService initiated")}return e.prototype.interpret=function(e,t,n){return this.logger.debug("Interpreting script:\n"+e),this.kevs.parse(e,t,n)},e.prototype.parseModel=function(e){return this.kevs.parseModel(e)},e.prototype.getInstance=function(){return this.kevs},e}();p=a([n.i(o.g)(),c("design:paramtypes",["function"==typeof(l=void 0!==r.a&&r.a)&&l||Object])],p);var l},"./src/app/services/logger-factory.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./src/app/services/logger.service.ts");n.d(t,"a",function(){return a});var s=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.logger=e}return e.prototype.create=function(){return this.logger},e.prototype.remove=function(){},e.prototype.add=function(){},e.prototype.delete=function(){},e}();a=s([n.i(o.g)(),i("design:paramtypes",["function"==typeof(c=void 0!==r.a&&r.a)&&c||Object])],a);var c},"./src/app/services/logger.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js");n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r,s=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e[e.INFO=0]="INFO",e[e.DEBUG=1]="DEBUG",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(r||(r={}));var a=(function(){function e(){}}(),function(){function e(){this.tag="BrowserRuntime",this.logs=[],this.reverseLogs=[],this.reverse=!0}return e.prototype.info=function(e){console.log(e),this.addLog({tag:this.tag,line:e,date:new Date,level:r.INFO})},e.prototype.debug=function(e){this.addLog({tag:this.tag,line:e,date:new Date,level:r.DEBUG})},e.prototype.warn=function(e){console.warn(e),this.addLog({tag:this.tag,line:e,date:new Date,level:r.WARN})},e.prototype.error=function(e){console.error(e),this.addLog({tag:this.tag,line:e,date:new Date,level:r.ERROR})},e.prototype.setLevel=function(e){},e.prototype.setFilter=function(e){},e.prototype.getLogs=function(){return this.reverse?this.reverseLogs:this.logs},e.prototype.clear=function(){this.logs.length=0,this.reverseLogs.length=0},e.prototype.reverseOrder=function(){this.reverse=!this.reverse},e.prototype.addLog=function(e){this.logs.length>400&&this.logs.shift(),this.logs.push(e),this.reverseLogs.length>400&&this.reverseLogs.pop(),this.reverseLogs.unshift(e)},e}());a=s([n.i(o.g)(),i("design:paramtypes",[])],a)},"./src/app/services/resolver.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./src/app/services/logger.service.ts"),s=n("./node_modules/kevoree-module-loader/index.js"),i=n.n(s);n.d(t,"a",function(){return p});var a=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e){this.logger=e}return e.prototype.resolve=function(e){var t=this;return i.a.has(e.name,e.version)?Promise.resolve(i.a.require(e.name,e.version)):new Promise(function(n,o){t.logger.debug("Resolving "+e.name+"@"+e.version+"...");var r=document.createElement("iframe");r.id=e.name+"-"+e.version,r.src="/assets/iframes/installer.html?name="+encodeURI(e.name)+"&version="+encodeURI(e.version),r.classList.add("hide");var s=function(t){if(t.origin===window.location.origin)switch(t.data.type){case"error":o(new Error(t.data.error));break;case"done":window.removeEventListener("message",s),n(i.a.require(e.name,e.version))}};window.addEventListener("message",s),document.body.appendChild(r)})},e.prototype.uninstall=function(e){return Promise.resolve()},e}();p=a([n.i(o.g)(),c("design:paramtypes",["function"==typeof(l=void 0!==r.a&&r.a)&&l||Object])],p);var l},"./src/app/services/tiny-conf.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./node_modules/ngx-webstorage/dist/app.js"),s=n(4),i=n.n(s),a=n("./src/app/services/logger.service.ts");n.d(t,"a",function(){return l});var c=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.logger=e,this.storage=t,e.debug("Initiating TinyConfService...");var n=new URL(t.retrieve("registry")),o=n.host,r="https:"===n.protocol,s=0===n.port.length?r?443:80:parseInt(n.port,10);i.a.set("registry",{host:o,port:s,ssl:r})}return e.prototype.set=function(e,t){void 0===t?i.a.set(e):i.a.set(e,t)},e.prototype.get=function(e){return i.a.get(e)},e}();l=c([n.i(o.g)(),p("design:paramtypes",["function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(d=void 0!==r.b&&r.b)&&d||Object])],l);var u,d},"./src/environments/environment.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={production:!1}},"./src/main.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./node_modules/@angular/platform-browser-dynamic/@angular/platform-browser-dynamic.es5.js"),s=n("./src/app/app.module.ts");n("./src/environments/environment.ts").a.production&&n.i(o.a)(),n.i(r.a)().bootstrapModule(s.a)},0:function(e,t){e.exports=CodeMirror},1:function(e,t){e.exports=KevoreeLibrary},2:function(e,t){e.exports=KevoreeKevscript},3:function(e,t){e.exports=KevoreeRegistryClient},4:function(e,t){e.exports=TinyConf},6:function(e,t,n){e.exports=n("./src/main.ts")}},[6]);