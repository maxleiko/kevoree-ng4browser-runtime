<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Kevoree Component Tile</title>
  </head>
  <body>
    <div id="tile"></div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.1/react.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.1/react-dom.min.js"></script>
    <script type="text/javascript">
    const params = decodeURI(window.location.search.substr(1))
      .split('&')
      .reduce((params, value) => {
        const array = value.split('=');
        params[array[0]] = array[1];
        return params;
      }, {});

    console.log(`Creating tile for instance: ${params.path}`);

    const instance = parent.KevoreeInstanceLoader.require(params.path);
    const ui = ReactDOM.render(
      React.createElement(instance.uiFactory(), { instance: instance }),
      document.getElementById('tile')
    );
    instance.ui = ui;
    </script>
  </body>
</html>
